{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,SAChCE,EAAaH,SAASC,cAAc,aACpCG,EAAaJ,SAASC,cAAc,aACpCI,EAAQL,SAASC,cAAc,YAC/BK,EAAWN,SAASC,cAAc,cAClCM,EAAcP,SAASC,cAAc,SAI3C,IAAIO,EAAc,EAGlB,MAQMC,EAAeC,IACnBA,EAAEC,iBACF,MAAMC,EAAWT,EAAWU,MACtBC,EAAWV,EAAWS,MAG5BE,MAFY,yFAAoDH,yBAAgCE,UAAiBN,KAG9GQ,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACW,WAAXT,EAAEU,MAjBK,EAACD,EAAML,KACtBT,EAAMgB,YAAc,GAAGF,aAAA,EAAAA,EAAMG,oBAC7BvB,EAAKwB,UAAY,GACjBjB,EAASe,YAAc,eAAeG,KAAKC,MACzCN,aAAA,EAAAA,EAAMG,cAAeR,YAcjBY,CAASP,EAAML,GAEjBa,EAAaR,EAAKS,UACdpB,EAAcgB,KAAKC,MAAKN,aAAA,EAAAA,EAAMG,cAAeR,IAC/CP,EAAYsB,UAAUC,IAAI,WAI7BC,OAAMC,IACLC,QAAQC,IAAI,QAASF,MAEtBG,SAAQ,KACP3B,GAAe,M,IAehB4B,EAXLlC,EAAOmC,iBAAiB,SAAU5B,GAClCF,EAAY8B,iBAAiB,QAAS5B,GAEtC,MAYM6B,EAAkBC,GACtBA,EAAQA,EAAMC,QAAO,CAACC,EAAKC,IAASD,EAbf,CAAAC,GAAQ,SAE7BA,EAAKC,WACD,aAAaD,EAAKC,oBAAoBD,EAAKE,gBAC3C,WAEAF,EAAKG,kBACNH,EAAKE,YAAcF,EAAKE,YAAc,cAC3B,QAAXR,EAAAM,EAAKI,cAAM,IAAXV,IAAe,oBACTM,EAAKK,6CAI4BC,CAAeN,IAAO,IAAM,GAElEf,EAAeY,IACnB,MAAMU,EAASX,EAAgBC,GAC/BxC,EAAKmD,mBAAmB,YAAaD","sources":["src/js/04-practic.js"],"sourcesContent":["const list = document.querySelector('.list');\nconst formEL = document.querySelector('.form');\nconst categoryEl = document.querySelector('.category');\nconst pageSizeEl = document.querySelector('.pageSize');\nconst titel = document.querySelector('.counter');\nconst subTitel = document.querySelector('.totaPages');\nconst loadMoreBtn = document.querySelector('.load');\n\nconst KEY = '77a967833c1c43c397a750d1eb5c87d4';\nconst BASE_URL = 'https://newsapi.org/v2';\nlet currentPage = 1;\n\n// const URL = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=sports&country=ua&pageSize=20`;\nconst updateUi = (data, pageSize) => {\n  titel.textContent = `${data?.totalResults} news`;\n  list.innerHTML = '';\n  subTitel.textContent = `pages found ${Math.ceil(\n    data?.totalResults / pageSize\n  )} news `;\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  const category = categoryEl.value;\n  const pageSize = pageSizeEl.value;\n  const url = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=${category}&country=ua&pageSize=${pageSize}&page=${currentPage}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      if (e.type === 'submit') {\n        updateUi(data, pageSize);\n      }\n      isertContent(data.articles);\n      if (currentPage > Math.ceil(data?.totalResults / pageSize)) {\n        loadMoreBtn.classList.add('hide');\n      }\n      // console.log('data', data);\n    })\n    .catch(error => {\n      console.log('error', error);\n    })\n    .finally(() => {\n      currentPage += 1;\n    });\n};\n\nformEL.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleSubmit);\n\nconst createListItem = item => `<li>\n${\n  item.urlToImage\n    ? `<img src=\"${item.urlToImage}\" alt=\"${item.description}\">`\n    : ''\n}\n<h2>${item.title}</h2>\n<p>${item.description ? item.description : ''}</p>\n<p>${item.author ?? ''}</p>\n<a href=\"${item.url}\" target=\"_blank\">go to full</a>\n</li>`;\n\nconst generateContent = array =>\n  array ? array.reduce((acc, item) => acc + createListItem(item), '') : '';\n\nconst isertContent = array => {\n  const result = generateContent(array);\n  list.insertAdjacentHTML('beforeend', result);\n};\n"],"names":["$a7ee7167ca842147$var$list","document","querySelector","$a7ee7167ca842147$var$formEL","$a7ee7167ca842147$var$categoryEl","$a7ee7167ca842147$var$pageSizeEl","$a7ee7167ca842147$var$titel","$a7ee7167ca842147$var$subTitel","$a7ee7167ca842147$var$loadMoreBtn","$a7ee7167ca842147$var$currentPage","$a7ee7167ca842147$var$handleSubmit","e","preventDefault","category","value","pageSize","fetch","then","response","json","data","type","textContent","totalResults","innerHTML","Math","ceil","$a7ee7167ca842147$var$updateUi","$a7ee7167ca842147$var$isertContent","articles","classList","add","catch","error","console","log","finally","$a7ee7167ca842147$var$_author","addEventListener","$a7ee7167ca842147$var$generateContent","array","reduce","acc","item","urlToImage","description","title","author","url","$a7ee7167ca842147$var$createListItem","result","insertAdjacentHTML"],"version":3,"file":"04-practic.6fbda3c4.js.map"}