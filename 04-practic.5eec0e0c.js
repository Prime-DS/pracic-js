!function(){var t,e=document.querySelector(".list"),n=document.querySelector(".form"),c=document.querySelector(".category"),o=document.querySelector(".pageSize"),a=document.querySelector(".counter"),r=document.querySelector(".totaPages"),u=document.querySelector(".load"),l=1,i=function(t){t.preventDefault();var n=c.value,i=o.value,d="".concat("https://newsapi.org/v2","/top-headlines?apiKey=").concat("77a967833c1c43c397a750d1eb5c87d4","&category=").concat(n,"&country=ua&pageSize=").concat(i,"&page=").concat(l);fetch(d).then((function(t){return t.json()})).then((function(n){"submit"===t.type&&function(t,n){a.textContent="".concat(null==t?void 0:t.totalResults," news"),e.innerHTML="",r.textContent="pages found ".concat(Math.ceil((null==t?void 0:t.totalResults)/n)," news ")}(n,i),s(n.articles),l>Math.ceil((null==n?void 0:n.totalResults)/i)&&u.classList.add("hide")})).catch((function(t){console.log("error",t)})).finally((function(){l+=1}))};n.addEventListener("submit",i),u.addEventListener("click",i);var d=function(e){return e?e.reduce((function(e,n){return e+function(e){return"<li>\n".concat(e.urlToImage?'<img src="'.concat(e.urlToImage,'" alt="').concat(e.description,'">'):"","\n<h2>").concat(e.title,"</h2>\n<p>").concat(e.description?e.description:"","</p>\n<p>").concat(null!==(t=e.author)&&void 0!==t?t:"",'</p>\n<a href="').concat(e.url,'" target="_blank">go to full</a>\n</li>')}(n)}),""):""},s=function(t){var n=d(t);e.insertAdjacentHTML("beforeend",n)}}();
//# sourceMappingURL=04-practic.5eec0e0c.js.map
