{"mappings":"YAAA,IA0DKA,EA1DCC,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,SAChCE,EAAaH,SAASC,cAAc,aACpCG,EAAaJ,SAASC,cAAc,aACpCI,EAAQL,SAASC,cAAc,YAC/BK,EAAWN,SAASC,cAAc,cAClCM,EAAcP,SAASC,cAAc,SAIvCO,EAAc,EAWZC,EAAe,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAWT,EAAWU,MACtBC,EAAWV,EAAWS,MACtBE,EAAM,GAAoCC,OAhBjC,yBAgBS,0BAAwCA,OAjBtD,mCAiB0C,cAA4CA,OAAhCJ,EAAS,yBAAwCI,OAAjBF,EAAS,UAAoBE,OAAZR,GAEjHS,MAAMF,GACHG,MAAK,SAAAC,G,OAAYA,EAASC,UAC1BF,MAAK,SAAAG,GACW,WAAXX,EAAEY,MAjBK,SAACD,EAAMP,GACtBT,EAAMkB,YAAc,GAAsBP,OAAnBK,aAAA,EAAAA,EAAMG,aAAa,SAC1CzB,EAAK0B,UAAY,GACjBnB,EAASiB,YAAc,eAErBP,OAFoCU,KAAKC,MACzCN,aAAA,EAAAA,EAAMG,cAAeV,GACrB,UAaIc,CAASP,EAAMP,GAEjBe,EAAaR,EAAKS,UACdtB,EAAckB,KAAKC,MAAKN,aAAA,EAAAA,EAAMG,cAAeV,IAC/CP,EAAYwB,UAAUC,IAAI,WAI7BC,OAAM,SAAAC,GACLC,QAAQC,IAAI,QAASF,MAEtBG,SAAQ,WACP7B,GAAe,MAIrBN,EAAOoC,iBAAiB,SAAU7B,GAClCF,EAAY+B,iBAAiB,QAAS7B,GAEtC,IAYM8B,EAAkB,SAAAC,G,OACtBA,EAAQA,EAAMC,QAAO,SAACC,EAAKC,G,OAASD,EAbf,SAAAC,G,MAAQ,SAMzB3B,OAJJ2B,EAAKC,WACD,aAAsC5B,OAAzB2B,EAAKC,WAAW,WAA0B5B,OAAjB2B,EAAKE,YAAY,MACvD,GACL,UAEI7B,OADC2B,EAAKG,MAAM,cAEZ9B,OADA2B,EAAKE,YAAcF,EAAKE,YAAc,GAAG,aAEnC7B,OADK,QAAXlB,EAAA6C,EAAKI,cAAM,IAAXjD,IAAe,GAAG,mBACHkB,OAAT2B,EAAK5B,IAAI,2CAIwBiC,CAAeL,KAAO,IAAM,IAElEd,EAAe,SAAAW,GACnB,IAAMS,EAASV,EAAgBC,GAC/BzC,EAAKmD,mBAAmB,YAAaD,I","sources":["src/js/04-practic.js"],"sourcesContent":["const list = document.querySelector('.list');\nconst formEL = document.querySelector('.form');\nconst categoryEl = document.querySelector('.category');\nconst pageSizeEl = document.querySelector('.pageSize');\nconst titel = document.querySelector('.counter');\nconst subTitel = document.querySelector('.totaPages');\nconst loadMoreBtn = document.querySelector('.load');\n\nconst KEY = '77a967833c1c43c397a750d1eb5c87d4';\nconst BASE_URL = 'https://newsapi.org/v2';\nlet currentPage = 1;\n\n// const URL = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=sports&country=ua&pageSize=20`;\nconst updateUi = (data, pageSize) => {\n  titel.textContent = `${data?.totalResults} news`;\n  list.innerHTML = '';\n  subTitel.textContent = `pages found ${Math.ceil(\n    data?.totalResults / pageSize\n  )} news `;\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  const category = categoryEl.value;\n  const pageSize = pageSizeEl.value;\n  const url = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=${category}&country=ua&pageSize=${pageSize}&page=${currentPage}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      if (e.type === 'submit') {\n        updateUi(data, pageSize);\n      }\n      isertContent(data.articles);\n      if (currentPage > Math.ceil(data?.totalResults / pageSize)) {\n        loadMoreBtn.classList.add('hide');\n      }\n      // console.log('data', data);\n    })\n    .catch(error => {\n      console.log('error', error);\n    })\n    .finally(() => {\n      currentPage += 1;\n    });\n};\n\nformEL.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleSubmit);\n\nconst createListItem = item => `<li>\n${\n  item.urlToImage\n    ? `<img src=\"${item.urlToImage}\" alt=\"${item.description}\">`\n    : ''\n}\n<h2>${item.title}</h2>\n<p>${item.description ? item.description : ''}</p>\n<p>${item.author ?? ''}</p>\n<a href=\"${item.url}\" target=\"_blank\">go to full</a>\n</li>`;\n\nconst generateContent = array =>\n  array ? array.reduce((acc, item) => acc + createListItem(item), '') : '';\n\nconst isertContent = array => {\n  const result = generateContent(array);\n  list.insertAdjacentHTML('beforeend', result);\n};\n"],"names":["$36a3c168eba66069$var$_author","$36a3c168eba66069$var$list","document","querySelector","$36a3c168eba66069$var$formEL","$36a3c168eba66069$var$categoryEl","$36a3c168eba66069$var$pageSizeEl","$36a3c168eba66069$var$titel","$36a3c168eba66069$var$subTitel","$36a3c168eba66069$var$loadMoreBtn","$36a3c168eba66069$var$currentPage","$36a3c168eba66069$var$handleSubmit","e","preventDefault","category","value","pageSize","url","concat","fetch","then","response","json","data","type","textContent","totalResults","innerHTML","Math","ceil","$36a3c168eba66069$var$updateUi","$36a3c168eba66069$var$isertContent","articles","classList","add","catch","error","console","log","finally","addEventListener","$36a3c168eba66069$var$generateContent","array","reduce","acc","item","urlToImage","description","title","author","$36a3c168eba66069$var$createListItem","result","insertAdjacentHTML"],"version":3,"file":"04-practic.5eec0e0c.js.map"}